<div class="w-full max-w-2xl mx-auto p-6 space-y-6">

  <div *ngIf="medicalRecord" class="bg-white rounded-lg shadow-md p-6 border-l-4 border-teal-500">
    <h3 class="text-3xl font-extrabold text-gray-800 mb-4">Patient Medical Record</h3>
    
    <div class="flex flex-wrap gap-6 text-gray-700">
      <div class="flex-1 min-w-[250px]"><span class="font-semibold">Name:</span> {{ medicalRecord.name }} {{ medicalRecord.lastName }}</div>
      <div class="flex-1 min-w-[200px]"><span class="font-semibold">JMBG:</span> {{ medicalRecord.jmbg }}</div>
      <div class="flex-1 min-w-[200px]"><span class="font-semibold">Birth Date:</span> {{ medicalRecord.birthDate | date:'dd.MM.yyyy.' }}</div>
      <div class="flex-1 min-w-[150px]"><span class="font-semibold">Gender:</span> {{ medicalRecord.gender }}</div>
      <div class="w-full"><span class="font-semibold">Allergies:</span> {{ medicalRecord.allergies || 'None' }}</div>
      <div class="w-full"><span class="font-semibold">Chronic Diseases:</span> {{ medicalRecord.chronicDiseases || 'None' }}</div>
    </div>
  </div>

  <div class="bg-white rounded-lg shadow-md p-6">
    <h2 class="text-3xl font-extrabold text-gray-800 mb-6">Examination Form</h2>

    <form (ngSubmit)="saveExamination()" class="space-y-4">

      <div class="flex flex-col">
        <label class="mb-1 font-semibold text-gray-700">Diagnosis</label>
        <textarea [(ngModel)]="examination.diagnosis" name="diagnosis"
                  class="border rounded-lg p-3 focus:ring-2 focus:ring-teal-400 focus:outline-none resize-none h-24"
                  placeholder="Enter diagnosis here..."></textarea>
      </div>

      <div class="flex flex-col">
        <label class="mb-1 font-semibold text-gray-700">Therapy</label>
        <textarea [(ngModel)]="examination.therapy" name="therapy"
                  class="border rounded-lg p-3 focus:ring-2 focus:ring-teal-400 focus:outline-none resize-none h-24"
                  placeholder="Enter therapy here..."></textarea>
      </div>

      <div class="flex flex-col">
        <label class="mb-1 font-semibold text-gray-700">Notes</label>
        <textarea [(ngModel)]="examination.note" name="note"
                  class="border rounded-lg p-3 focus:ring-2 focus:ring-teal-400 focus:outline-none resize-none h-24"
                  placeholder="Enter any additional notes..."></textarea>
      </div>

      <div class="flex flex-wrap gap-3 mt-4">
        <button type="submit"
                class="bg-teal-500 text-white px-6 py-2 rounded-lg font-semibold hover:bg-teal-600 transition">
          Save Examination
        </button>
        <button *ngIf="showMedicalCertificateButton" type="button"
                (click)="goToMedicalCertificate()"
                class="bg-yellow-500 text-white px-6 py-2 rounded-lg font-semibold hover:bg-yellow-600 transition">
          Medical Certificate
        </button>
      </div>

    </form>
  </div>

</div>
